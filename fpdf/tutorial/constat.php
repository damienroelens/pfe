<?php
define('FPDF_FONTPATH','.');
require('fpdf.php');
require('rotation.php');
require 'PHPMailerAutoload.php';

ini_set("SMTP","smtp.damien-roelens.be" );
ini_set("smtp_port","587" );

/*-----------------------------------------------------------------*/



$data = 'data:image/png;base64,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';

$pdf = new FPDF('P','pt','A4');
$pdf->AddPage();
$pdf->AddFont('Arial','','arial.php');
$pdf->SetFont('Arial','',12);
$pdf->Image('constat.jpg', 0, 0,-300); 
$pdf->Rotate(90,140,530);
$pdf->Image($data,140,530,-300,0,'PNG');
$pdf->Rotate(0);


$name = "Damien ROELENS"; 
$pdf->Text(100, 457, $name);

$constat = $pdf->Output('','S');
/*
//Create a new PHPMailer instance
$mail = new PHPMailer();
//Set who the message is to be sent from
$mail->setFrom('constat@damien-roelens.be', 'Constat d\'accident');
//Set who the message is to be sent to
$mail->addAddress('roelens_dam@hotmail.com', 'Damien Roelens');
//Set the subject line
$mail->Subject = 'Votre constat d\'accident en PDF';

//Replace the plain text body with one created manually
$mail->Body = 'This is a plain-text message body';
//Attach an image file
$mail->addStringAttachment($constat,'constat.pdf');


//send the message, check for errors
if (!$mail->send()) {
	http_response_code(404);
} else {
	http_response_code(200);
}
*/
?>
